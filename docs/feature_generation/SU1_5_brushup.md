# SU1/SU5 ãƒ–ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒƒãƒ—ä»•æ§˜æ›¸

æœ€çµ‚æ›´æ–°: 2025-12-06

---

## 0. ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

| é …ç›® | çŠ¶æ…‹ |
|------|------|
| å®Ÿè£…çŠ¶æ³ | ğŸ“‹ **è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚º** |
| ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ | SU1+SU5 (LB 0.681) |
| ç›®æ¨™ | æ—¢å­˜ãƒ©ã‚¤ãƒ³ã‚’å£Šã•ãš +3ã€œ5 åˆ—ã®å¾®èª¿æ•´ã§æ”¹å–„ã‚’ç‹™ã† |

---

## 1. èƒŒæ™¯ã¨ç›®çš„

### 1.1 ã“ã‚Œã¾ã§ã®æ•™è¨“

SU7ã€œSU11 ã®å®Ÿé¨“ã‚’é€šã˜ã¦ã€ä»¥ä¸‹ãŒæ˜ç¢ºã«ãªã‚Šã¾ã—ãŸï¼š

| SU | è©¦ã¿ãŸå†…å®¹ | çµæœ | æ•™è¨“ |
|----|-----------|------|------|
| SU2 | rolling/EWMA å¤§é‡è¿½åŠ  (935åˆ—) | LB 0.597 (-12.4%) | ç‰¹å¾´é‡çˆ†ç™º â†’ éå­¦ç¿’ |
| SU3 | é·ç§»ãƒ»å†å‡ºç¾ãƒ‘ã‚¿ãƒ¼ãƒ³ (76åˆ—) | LB 0.461 (-31.6%) | ã‚³ãƒ³ã‚»ãƒ—ãƒˆä¸é©åˆ |
| SU7 | ãƒ¢ãƒ¡ãƒ³ã‚¿ãƒ ãƒ»RSI ç³» | LB 0.476 (-30.1%) | OOFæ”¹å–„ã‚‚LBå´©å£Š |
| SU8 | ãƒœãƒ©ãƒ†ã‚£ãƒªãƒ†ã‚£ãƒ»ãƒ¬ã‚¸ãƒ¼ãƒ  | LB 0.624 (-8.4%) | OOF/LBä¸¡æ–¹ã§æ‚ªåŒ– |
| SU9 | ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ãƒ»å­£ç¯€æ€§ | LB 0.679 (-0.3%) | OOFæ”¹å–„ã‚‚LBå¾®æ‚ªåŒ– |
| SU10 | å¤–éƒ¨ãƒ¬ã‚¸ãƒ¼ãƒ  (SPY) | LB 0.597 (-12.3%) | æ™‚é–“çš„ãƒŸã‚¹ãƒãƒƒãƒ |
| SU11 | Level-2 Stacking | LB 0.464 (-31.9%) | shrinkageå•é¡Œ |

**çµè«–**: ã€Œæ–°ã—ã„SUã‚’å¢—ã‚„ã™ã€æ–¹å‘ã¯å¤±æ•—ç¶šãã€‚æ—¢å­˜ã®SU1/SU5ã®ä¸­èº«ã‚’**ã»ã‚“ã®å°‘ã—ã ã‘åšãã™ã‚‹**æ–¹å‘ã«è»¢æ›ã€‚

### 1.2 æ–¹é‡ã®æ ¸å¿ƒ

```
âŒ ã‚„ã‚‰ãªã„ã“ã¨
  - åˆ—æ•°ã‚’ +50 ä»¥ä¸Šå¢—ã‚„ã™æ‹¡å¼µ
  - å¤šwindow (5,10,20,60) Ã— å¤šé›†ç´„ (mean,std,max,min) ã® rolling ç³»
  - å¤–éƒ¨ãƒ¬ã‚¸ãƒ¼ãƒ ã‚„ date_id ã¨å¼·ãçµ¡ã‚ãŸé«˜æ¬¡ç‰¹å¾´
  - Level-2 stacking

âœ… ã‚„ã‚‹ã“ã¨
  - SU1 ã‚’æ™‚é–“æ–¹å‘ã«ã»ã‚“ã®å°‘ã—ã ã‘æ‹¡å¼µ (+3ã€œ5åˆ—)
  - SU5 ã®å…±æ¬ ææ§‹é€ ã‚’ç²—ãåœ§ç¸®ã—ãŸãƒ¡ã‚¿åˆ—ã‚’è¿½åŠ  (+3ã€œ5åˆ—)
  - åˆè¨ˆ +10åˆ—ä»¥ä¸‹ã«å³å¯†ã«æŠ‘ãˆã‚‹
```

---

## 2. SU1 æ‹¡å¼µä»•æ§˜

### 2.1 ç¾åœ¨ã® SU1 ç‰¹å¾´ï¼ˆç¢ºèªï¼‰

| ã‚«ãƒ†ã‚´ãƒª | ç‰¹å¾´åãƒ‘ã‚¿ãƒ¼ãƒ³ | åˆ—æ•°ç›®å®‰ |
|---------|---------------|---------|
| æ¬ æãƒ•ãƒ©ã‚° | `m/<col>` | 94åˆ— |
| ç¾¤é›†ç´„ | `m_cnt/<grp>`, `m_rate/<grp>` | 12åˆ— |
| ç›´è¿‘è·é›¢ | `gap_ffill/<col>` | 94åˆ— |
| é€£ç¶šé•· | `run_na/<col>`, `run_obs/<col>` | 188åˆ— |
| ç¾¤å¹³å‡ | `avg_gapff/<grp>`, `avg_run_na/<grp>` | 12åˆ— |

åˆè¨ˆ: ç´„ **368åˆ—**ï¼ˆSU1ã®ã¿ï¼‰

### 2.2 è¿½åŠ ç‰¹å¾´ï¼ˆSU1æ‹¡å¼µï¼‰

**ç›®æ¨™**: æ™‚é–“æ–¹å‘ã«ã»ã‚“ã®å°‘ã—ã ã‘ä¼¸ã°ã™ï¼ˆ+3ã€œ5åˆ—ï¼‰

#### 2.2.1 ç›´è¿‘Kæ—¥ã®æ¬ æé »åº¦ï¼ˆå…¨ä½“ãƒ¬ãƒ™ãƒ«ï¼‰

| ç‰¹å¾´å | å®šç¾© | å‹ | å‚™è€ƒ |
|--------|-----|-----|------|
| `miss_count_last_5d` | ç›´è¿‘5æ—¥é–“ã®å…¨åˆ—ã®æ¬ ææ•°åˆè¨ˆ | int16 | `sum(m/<col>[t-4:t+1])` ã®å…¨åˆ—åˆè¨ˆ |
| `miss_ratio_last_5d` | ç›´è¿‘5æ—¥é–“ã®æ¬ æç‡ | float32 | `miss_count_last_5d / (5 * n_cols)` |

**å®Ÿè£…è©³ç´°**:
```python
# è¡Œã”ã¨ã«ã€Œãã®æ—¥ã®æ¬ ææ•°ã€ã‚’è¨ˆç®—
daily_miss_count = df[[f'm/{col}' for col in cols]].sum(axis=1)

# ç›´è¿‘5æ—¥ã®ãƒ­ãƒ¼ãƒªãƒ³ã‚°åˆè¨ˆ
miss_count_last_5d = daily_miss_count.rolling(5, min_periods=5).sum()

# æ¯”ç‡
miss_ratio_last_5d = miss_count_last_5d / (5 * n_cols)
```

#### 2.2.2 æ¬ æã‚¹ãƒˆãƒªãƒ¼ã‚¯ã®ãƒ•ãƒ©ã‚°

| ç‰¹å¾´å | å®šç¾© | å‹ | å‚™è€ƒ |
|--------|-----|-----|------|
| `is_long_missing_streak` | ç›´è¿‘ã§ã€Œ3æ—¥ä»¥ä¸Šé€£ç¶šæ¬ æã€ã®åˆ—ãŒå­˜åœ¨ã™ã‚‹ã‹ | uint8 | `max(run_na/<col>) >= 3` |
| `long_streak_col_count` | ã€Œ3æ—¥ä»¥ä¸Šé€£ç¶šæ¬ æã€ã®åˆ—æ•° | int16 | `sum(run_na/<col> >= 3)` |

**å®Ÿè£…è©³ç´°**:
```python
run_na_cols = [f'run_na/{col}' for col in cols]
is_long_missing_streak = (df[run_na_cols].max(axis=1) >= 3).astype('uint8')
long_streak_col_count = (df[run_na_cols] >= 3).sum(axis=1).astype('int16')
```

#### 2.2.3 æ¬ æãƒ¬ã‚¸ãƒ¼ãƒ å¤‰åŒ–ãƒ•ãƒ©ã‚°

| ç‰¹å¾´å | å®šç¾© | å‹ | å‚™è€ƒ |
|--------|-----|-----|------|
| `miss_regime_change` | ç›´è¿‘5æ—¥ã§æ¬ æã—å§‹ã‚ãŸãŒã€ãã‚Œä»¥å‰30æ—¥ã¯ã»ã¼æ¬ æãªã—ã®åˆ—ãŒå­˜åœ¨ã™ã‚‹ã‹ | uint8 | regime change æ¤œçŸ¥ |

**å®Ÿè£…è©³ç´°**:
```python
# å„åˆ—ã«ã¤ã„ã¦
# - ç›´è¿‘5æ—¥ã®æ¬ æç‡ > 0.5 (æœ€è¿‘æ¬ æãŒå¤šã„)
# - ãã‚Œä»¥å‰30æ—¥ã®æ¬ æç‡ < 0.1 (ä»¥å‰ã¯ã»ã¼æ¬ æãªã—)
recent_miss_rate = df[f'm/{col}'].rolling(5).mean()
past_miss_rate = df[f'm/{col}'].shift(5).rolling(30).mean()

is_regime_change = (recent_miss_rate > 0.5) & (past_miss_rate < 0.1)
miss_regime_change = is_regime_change.any(axis=1).astype('uint8')
```

### 2.3 SU1æ‹¡å¼µã®åˆ—æ•°ã¾ã¨ã‚

| ç‰¹å¾´å | åˆ—æ•° |
|--------|-----|
| `miss_count_last_5d` | 1 |
| `miss_ratio_last_5d` | 1 |
| `is_long_missing_streak` | 1 |
| `long_streak_col_count` | 1 |
| `miss_regime_change` | 1 |
| **åˆè¨ˆ** | **5åˆ—** |

---

## 3. SU5 æ‹¡å¼µä»•æ§˜

### 3.1 ç¾åœ¨ã® SU5 ç‰¹å¾´ï¼ˆç¢ºèªï¼‰

| ã‚«ãƒ†ã‚´ãƒª | ç‰¹å¾´åãƒ‘ã‚¿ãƒ¼ãƒ³ | åˆ—æ•°ç›®å®‰ |
|---------|---------------|---------|
| å…±æ¬ æãƒ•ãƒ©ã‚° | `co_miss_now/<a>__<b>` | 10åˆ— (top-10ãƒšã‚¢) |
| ãƒ­ãƒ¼ãƒªãƒ³ã‚°å…±æ¬ æç‡ | `co_miss_rollrate_5/<a>__<b>` | 10åˆ— |
| å…±æ¬ ææ¬¡æ•° | `co_miss_deg/<col>` | 85åˆ— |

åˆè¨ˆ: ç´„ **105åˆ—**ï¼ˆSU5ã®ã¿ï¼‰

### 3.2 è¿½åŠ ç‰¹å¾´ï¼ˆSU5æ‹¡å¼µï¼‰

**ç›®æ¨™**: å…±æ¬ ææ§‹é€ ã‚’ç²—ãåœ§ç¸®ã—ãŸãƒ¡ã‚¿åˆ—ã‚’è¿½åŠ ï¼ˆ+3ã€œ5åˆ—ï¼‰

#### 3.2.1 æ¬ æãƒ‘ã‚¿ãƒ¼ãƒ³ã®ã‚¯ãƒ©ã‚¹ã‚¿ID

| ç‰¹å¾´å | å®šç¾© | å‹ | å‚™è€ƒ |
|--------|-----|-----|------|
| `miss_pattern_cluster` | è¡Œã”ã¨ã®æ¬ æãƒ‘ã‚¿ãƒ¼ãƒ³ï¼ˆ0/1ãƒ™ã‚¯ãƒˆãƒ«ï¼‰ã‚’k-meansã§ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã—ãŸID | int8 | k=4ã€œ8 |

**å®Ÿè£…è©³ç´°**:
```python
from sklearn.cluster import KMeans

# æ¬ æãƒ‘ã‚¿ãƒ¼ãƒ³è¡Œåˆ— (n_samples, n_cols)
miss_matrix = df[[f'm/{col}' for col in cols]].values

# å­¦ç¿’æ™‚: k-meansã‚’fit
kmeans = KMeans(n_clusters=6, random_state=42, n_init=10)
kmeans.fit(miss_matrix[train_idx])

# å…¨ãƒ‡ãƒ¼ã‚¿ã«transform
miss_pattern_cluster = kmeans.predict(miss_matrix)
```

**æ³¨æ„ç‚¹**:
- CV fold ã”ã¨ã« train éƒ¨åˆ†ã§ fit ã—ã€val éƒ¨åˆ†ã§ predict
- test æ™‚ã¯å…¨ train ã§ fit ã—ãŸ kmeans ã‚’ä½¿ç”¨
- k ã¯å°ã•ãæŠ‘ãˆã‚‹ï¼ˆ4ã€œ8ï¼‰

#### 3.2.2 å…±æ¬ æå¯†åº¦ã‚¹ã‚«ãƒ©ãƒ¼

| ç‰¹å¾´å | å®šç¾© | å‹ | å‚™è€ƒ |
|--------|-----|-----|------|
| `co_miss_density` | ãã®è¡Œã§ top-k å…±æ¬ æãƒšã‚¢ã®ã†ã¡ã€åŒæ™‚æ¬ æã—ã¦ã„ã‚‹ãƒšã‚¢ã®å‰²åˆ | float32 | 0ã€œ1 |

**å®Ÿè£…è©³ç´°**:
```python
# top-k å…±æ¬ æãƒšã‚¢ã®ã€ŒåŒæ™‚æ¬ æãƒ•ãƒ©ã‚°ã€ã‚’å–å¾—
co_miss_flags = df[[f'co_miss_now/{pair}' for pair in top_k_pairs]]

# åŒæ™‚æ¬ æã—ã¦ã„ã‚‹ãƒšã‚¢ã®å‰²åˆ
co_miss_density = co_miss_flags.mean(axis=1).astype('float32')
```

#### 3.2.3 å…±æ¬ ææ¬¡æ•°ã‚µãƒãƒª

| ç‰¹å¾´å | å®šç¾© | å‹ | å‚™è€ƒ |
|--------|-----|-----|------|
| `co_miss_deg_sum` | ãã®è¡Œã§æ¬ æã—ã¦ã„ã‚‹åˆ—ã®å…±æ¬ ææ¬¡æ•°ã®åˆè¨ˆ | float32 | å…±æ¬ æã®ã€Œä¸­å¿ƒæ€§ã€ |
| `co_miss_deg_mean` | ãã®è¡Œã§æ¬ æã—ã¦ã„ã‚‹åˆ—ã®å…±æ¬ ææ¬¡æ•°ã®å¹³å‡ | float32 | æ­£è¦åŒ–ç‰ˆ |

**å®Ÿè£…è©³ç´°**:
```python
# å„åˆ—ã®å…±æ¬ ææ¬¡æ•°ï¼ˆå­¦ç¿’æ™‚ã«è¨ˆç®—æ¸ˆã¿ï¼‰
deg_values = {col: co_miss_deg[col] for col in cols}

# ãã®è¡Œã§æ¬ æã—ã¦ã„ã‚‹åˆ—ã®degã‚’é›†è¨ˆ
def calc_deg_stats(row):
    missing_cols = [col for col in cols if row[f'm/{col}'] == 1]
    if not missing_cols:
        return 0.0, 0.0
    degs = [deg_values[col] for col in missing_cols]
    return sum(degs), sum(degs) / len(degs)

co_miss_deg_sum, co_miss_deg_mean = zip(*df.apply(calc_deg_stats, axis=1))
```

#### 3.2.4 æ¬ æåˆ—ã‚°ãƒ©ãƒ•ã®ç°¡æ˜“ä¸­å¿ƒæ€§ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

| ç‰¹å¾´å | å®šç¾© | å‹ | å‚™è€ƒ |
|--------|-----|-----|------|
| `miss_graph_centrality` | ãã®è¡Œã§æ¬ æã—ã¦ã„ã‚‹åˆ—ãŒ top-k ãƒšã‚¢ã«å«ã¾ã‚Œã‚‹å›æ•° | int8 | ã‚°ãƒ©ãƒ•çš„ãªä¸­å¿ƒæ€§ |

**å®Ÿè£…è©³ç´°**:
```python
# top-k ãƒšã‚¢ã«å«ã¾ã‚Œã‚‹åˆ—ã®é›†åˆ
pair_cols = set()
for pair in top_k_pairs:
    a, b = pair.split('__')
    pair_cols.add(a)
    pair_cols.add(b)

# ãã®è¡Œã§æ¬ æã—ã¦ã„ã‚‹åˆ—ãŒãƒšã‚¢ã«å«ã¾ã‚Œã‚‹ã‹
def calc_centrality(row):
    missing_cols = [col for col in cols if row[f'm/{col}'] == 1]
    return sum(1 for col in missing_cols if col in pair_cols)

miss_graph_centrality = df.apply(calc_centrality, axis=1).astype('int8')
```

### 3.3 SU5æ‹¡å¼µã®åˆ—æ•°ã¾ã¨ã‚

| ç‰¹å¾´å | åˆ—æ•° |
|--------|-----|
| `miss_pattern_cluster` | 1 |
| `co_miss_density` | 1 |
| `co_miss_deg_sum` | 1 |
| `co_miss_deg_mean` | 1 |
| `miss_graph_centrality` (ã‚ªãƒ—ã‚·ãƒ§ãƒ³) | 1 |
| **åˆè¨ˆ** | **4ã€œ5åˆ—** |

---

## 4. åˆè¨ˆç‰¹å¾´é‡æ•°

| ã‚«ãƒ†ã‚´ãƒª | ç¾åœ¨ã®åˆ—æ•° | è¿½åŠ åˆ—æ•° | åˆè¨ˆ |
|---------|-----------|---------|------|
| ç”Ÿãƒ‡ãƒ¼ã‚¿ | 94 | 0 | 94 |
| SU1 | 368 | **+5** | 373 |
| SU5 | 105 | **+4ã€œ5** | 109ã€œ110 |
| **åˆè¨ˆ** | **567** | **+9ã€œ10** | **576ã€œ577** |

**åˆ—æ•°å¢—åŠ ç‡**: +1.6ã€œ1.8%ï¼ˆéå¸¸ã«æ§ãˆã‚ï¼‰

---

## 5. å®Ÿè£…è¨ˆç”»

### 5.1 ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
src/feature_generation/
  su1/
    feature_su1.py        # æ—¢å­˜ + æ‹¡å¼µç‰¹å¾´ã‚’è¿½åŠ 
    train_su1.py          # å¤‰æ›´ãªã—
    predict_su1.py        # å¤‰æ›´ãªã—
  su5/
    feature_su5.py        # æ—¢å­˜ + æ‹¡å¼µç‰¹å¾´ã‚’è¿½åŠ 
    train_su5.py          # k-means ã® fit/transform ã‚’è¿½åŠ 
    predict_su5.py        # k-means ã® transform ã‚’è¿½åŠ 

configs/
  feature_generation.yaml  # æ‹¡å¼µãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¿½åŠ 
```

### 5.2 è¨­å®šãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆè¿½åŠ ï¼‰

```yaml
su1:
  # æ—¢å­˜è¨­å®š...
  
  # === SU1 æ‹¡å¼µ ===
  brushup:
    enabled: true
    miss_count_window: 5        # ç›´è¿‘Kæ—¥ã®æ¬ æé »åº¦
    streak_threshold: 3         # æ¬ æã‚¹ãƒˆãƒªãƒ¼ã‚¯é–¾å€¤
    regime_change:
      recent_window: 5          # ç›´è¿‘ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
      past_window: 30           # éå»ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦
      recent_threshold: 0.5     # æœ€è¿‘æ¬ æç‡ã®é–¾å€¤
      past_threshold: 0.1       # éå»æ¬ æç‡ã®é–¾å€¤

su5:
  # æ—¢å­˜è¨­å®š...
  
  # === SU5 æ‹¡å¼µ ===
  brushup:
    enabled: true
    cluster:
      n_clusters: 6             # k-means ã®ã‚¯ãƒ©ã‚¹ã‚¿æ•°
      random_state: 42
    include_density: true       # co_miss_density ã‚’è¿½åŠ 
    include_deg_stats: true     # deg_sum, deg_mean ã‚’è¿½åŠ 
    include_centrality: true    # miss_graph_centrality ã‚’è¿½åŠ 
```

### 5.3 ã‚¹ã‚¤ãƒ¼ãƒ—æ§‹æˆï¼ˆè»½ã‚ï¼‰

```yaml
brushup_sweep:
  su1_brushup_enabled: [true, false]
  su5_brushup_enabled: [true, false]
  su5_n_clusters: [4, 6, 8]
```

**ã‚¹ã‚¤ãƒ¼ãƒ—æ•°**: 2 Ã— 2 Ã— 3 = **12ãƒ‘ã‚¿ãƒ¼ãƒ³**ï¼ˆéå¸¸ã«è»½é‡ï¼‰

---

## 6. è©•ä¾¡åŸºæº–

### 6.1 æ¡ç”¨æ¡ä»¶

| æŒ‡æ¨™ | æ¡ä»¶ |
|------|------|
| OOF RMSE | ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ (0.012139) ã¨åŒç­‰ä»¥ä¸‹ |
| OOF MSR | ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³æ¯” +0.5Ïƒ ä»¥ä¸Šã®æ”¹å–„ |
| LB Score | ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ (0.681) ä»¥ä¸Š |

### 6.2 éæ¡ç”¨æ¡ä»¶ï¼ˆå³åº§ã«ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼‰

- OOF RMSE ãŒ +2% ä»¥ä¸Šæ‚ªåŒ–
- LB Score ãŒ -0.01 ä»¥ä¸Šæ‚ªåŒ–
- ç‰¹å¾´é‡æ•°ãŒ +20 åˆ—ã‚’è¶…ãˆã‚‹

### 6.3 è©•ä¾¡ãƒ•ãƒ­ãƒ¼

```
1. SU1æ‹¡å¼µã®ã¿ã§OOFè©•ä¾¡
   - æ”¹å–„ â†’ 2ã¸
   - æ‚ªåŒ– â†’ SU1æ‹¡å¼µã¯OFF

2. SU5æ‹¡å¼µã®ã¿ã§OOFè©•ä¾¡
   - æ”¹å–„ â†’ 3ã¸
   - æ‚ªåŒ– â†’ SU5æ‹¡å¼µã¯OFF

3. SU1æ‹¡å¼µ + SU5æ‹¡å¼µ ä½µç”¨ã§OOFè©•ä¾¡
   - æ”¹å–„ â†’ 4ã¸
   - æ‚ªåŒ– â†’ å˜ç‹¬ã§è‰¯ã„æ–¹ã®ã¿æ¡ç”¨

4. ãƒ™ã‚¹ãƒˆæ§‹æˆã§Kaggle LBæå‡º
   - æ”¹å–„ â†’ æ¡ç”¨ç¢ºå®š
   - æ‚ªåŒ– â†’ ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
```

---

## 7. ãƒªã‚¹ã‚¯ã¨åˆ¶ç´„

### 7.1 ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å¯¾ç­– |
|--------|------|
| k-means ã® CV ãƒªãƒ¼ã‚¯ | fold ã”ã¨ã« fit/transform ã‚’åˆ†é›¢ |
| åˆ—æ•°å¢—åŠ ã«ã‚ˆã‚‹éå­¦ç¿’ | +10åˆ—ä»¥ä¸‹ã«å³å®ˆ |
| OOF/LB ä¹–é›¢ | è»½ã„ã‚¹ã‚¤ãƒ¼ãƒ—ã«ç•™ã‚ã€å¤§é‡ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯è©¦ã•ãªã„ |

### 7.2 æ˜ç¤ºçš„ãªã€Œã‚„ã‚‰ãªã„ã“ã¨ã€ãƒªã‚¹ãƒˆ

1. **å¤š window rolling**: window ã‚’ 5 ã®ã¿ã«é™å®šã€10/20/60 ã¯ä½¿ã‚ãªã„
2. **å¤šé›†ç´„**: mean ã®ã¿ä½¿ç”¨ã€std/max/min ã¯ä½¿ã‚ãªã„
3. **åˆ—ã”ã¨ã®æ‹¡å¼µ**: å…¨åˆ—ã«å¯¾ã—ã¦å€‹åˆ¥ã«ç‰¹å¾´ã‚’è¿½åŠ ã—ãªã„ï¼ˆé›†ç´„åˆ—ã®ã¿ï¼‰
4. **å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿é€£æº**: date_id ã‚„ SPY ãƒ¬ã‚¸ãƒ¼ãƒ ã¨ã®çµ„ã¿åˆã‚ã›ã¯ã—ãªã„
5. **Level-2 stacking**: äºˆæ¸¬å€¤ã®å†åˆ©ç”¨ã¯ã—ãªã„

---

## 8. æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### Sprint 1: SU1æ‹¡å¼µå®Ÿè£… (1æ—¥)

- [ ] `feature_su1.py` ã«æ‹¡å¼µç‰¹å¾´ã‚’è¿½åŠ 
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- [ ] OOF è©•ä¾¡ã‚’å®Ÿè¡Œ

### Sprint 2: SU5æ‹¡å¼µå®Ÿè£… (1æ—¥)

- [ ] `feature_su5.py` ã«æ‹¡å¼µç‰¹å¾´ã‚’è¿½åŠ 
- [ ] k-means ã® CV å¯¾å¿œã‚’å®Ÿè£…
- [ ] ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- [ ] OOF è©•ä¾¡ã‚’å®Ÿè¡Œ

### Sprint 3: çµ±åˆãƒ»ã‚¹ã‚¤ãƒ¼ãƒ—ãƒ»LBæå‡º (1æ—¥)

- [ ] ä½µç”¨æ§‹æˆã® OOF è©•ä¾¡
- [ ] ãƒ™ã‚¹ãƒˆæ§‹æˆã® Kaggle LB æå‡º
- [ ] æ¡å¦åˆ¤æ–­ãƒ»ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°

---

## 9. å‚è€ƒãƒªãƒ³ã‚¯

- [SU1 ä»•æ§˜æ›¸](./SU1.md) - ç¾åœ¨ã® SU1 ä»•æ§˜
- [SU5 ä»•æ§˜æ›¸](./SU5.md) - ç¾åœ¨ã® SU5 ä»•æ§˜
- [submissions.md](../submissions.md) - æå‡ºå±¥æ­´
- [feature_generation.yaml](../../configs/feature_generation.yaml) - è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
